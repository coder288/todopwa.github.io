(this.webpackJsonptodo=this.webpackJsonptodo||[]).push([[0],[,,,,,,function(e,t,n){e.exports=n(18)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,,,function(e,t,n){"use strict";n.r(t);var o=n(0),a=n.n(o),r=n(3),i=(n(11),n(12),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)));function c(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}n(13);var s=function(){return a.a.createElement("div",{className:"header"},a.a.createElement("div",{className:"header__title"},"\u0421\u043f\u0438\u0441\u043e\u043a \u0437\u0430\u0434\u0430\u0447"))},l=n(4),u=n(5),d=(n(14),n(1)),f=function(){var e=Object(o.useState)(localStorage.getItem("todos")?JSON.parse(localStorage.getItem("todos")):[]),t=Object(u.a)(e,2),n=t[0],r=t[1],i=Object(o.useRef)(null),c=function(e){if(window.confirm("\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443?")){var t=parseInt(e.target.parentElement.dataset.id),o=n.filter((function(e){return e.id!==t}));r(o)}},s=function(e){var t=parseInt(e.target.parentElement.dataset.id),o=[];n.forEach((function(n){n.id===t?o.push({id:t,text:e.target.value}):o.push(n)})),r(o)};return Object(o.useEffect)((function(){localStorage.setItem("todos",JSON.stringify(n))}),[n]),a.a.createElement("div",{className:"todo__items"},n.map((function(e){return a.a.createElement("div",{className:"todo__item",key:e.id,"data-id":e.id},a.a.createElement("i",{className:"todo__remove",onClick:c}),a.a.createElement(d.a,{className:"todo__textarea",value:e.text,onChange:s}))})),a.a.createElement("div",{className:"todo__item"},a.a.createElement("i",{className:"todo__add",onClick:function(){if(""!==i.current.value){var e=n.length+1;r([].concat(Object(l.a)(n),[{id:e,text:i.current.value}])),i.current.value=""}}}),a.a.createElement(d.a,{className:"todo__textarea",inputRef:i})))};Object(r.render)(a.a.createElement((function(){return a.a.createElement("div",{className:"todo"},a.a.createElement(s,null),a.a.createElement(f,null))}),null),document.querySelector(".layout")),function(e){if("serviceWorker"in navigator){if(new URL("/todopwa.github.io",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/todopwa.github.io","/service-worker.js");i?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var o=n.headers.get("content-type");404===n.status||null!=o&&-1===o.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):c(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):c(t,e)}))}}()}],[[6,1,2]]]);
//# sourceMappingURL=main.d772aa7d.chunk.js.map